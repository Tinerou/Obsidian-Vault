#ComputerOrganization 
### Introduction to Sequential Logic

**Sequential logic** circuit allow for a sequence of operations
- Need a notion of time (clock)
- Need to remember state in memory (flip-flop)
![[Pasted image 20251013115940.png]]
#### Clocks

A **clock** is a special circuit that sends electrical pulses at a constant rate.
State changes occur when the clock ticks
- When does the Next state reach the current state
- For this class, we'll assume the rising edge
The interval between the rising edges is the *cycle time*.
The *frequency* (measured in Hz) is the inverse of the cycle

Note: Think clock speeds in CPUs

![[Pasted image 20251013120031.png]]


---

### Latches and flip-flops

#### SR Latch

The **SR (Set/Reset) Latch** is the simplest memory element
- Changes to the state occur immediately - no clock element has been added yet
- The output is dependent not only on the S and R but the current value of Q.
								![[Pasted image 20251013120201.png]]
**SR Latch Truth Table** 
		![[Pasted image 20251013120820.png]]
#### Clocked SR Latch

Adding a clock element as such means the latch will only change state when the clock is high (1). When the clock is low (0), the state is retained.
		![[Pasted image 20251013120858.png]]
#### Clocked D Latch

A **Clocked D latch** avoids the troublesome combination of when S and R are both 1
- When the clock is high:
	- The latch is set (to 1) when D is 1
	- The latch is reset (to 0 when D is 0).
- When the clock is low:
	- The latch state is retained
		![[Pasted image 20251013121000.png]]
#### Flip-Flops

A **flip-flop** is a memory element that is edge triggered.
- The inputs are only scanned on the rising edge of a clock
		![[Pasted image 20251013121047.png]]
**D Flip-Flop Block Diagram**
														![[Pasted image 20251013121236.png]]
	

---

### Buses

A **bus** is a set of shared wires that act as a common datapath to connect multiple subsystems within a computer system.

Only one device may use the bus at the time.
- Control logic must guarantee this is the case
- Often a bottleneck in computer system

Buses are commonly used to transfer data to and from:
- Memories (both on and off chip)
- I/O devices

Note: A USB is a Unified Serial Bus

**Buses Everywhere!**
![[Pasted image 20251013132303.png]]
#### Tri-state Buffer

A **tri-state buffer** is used to control access to a shared wire or bus

Acts liike a switch:
- When enabled - the input is connected directly to output
- When disabled - disconnects the input (represented with Z)
Circuit designer must guarantee that at most one tri-state buffer to a shared wire or bus is enabled
												![[Pasted image 20251013132422.png]]

#### 1-bit Memory Cell

A 1-bit memory cell has 4 lines:

*Enable (input):*
- 0: the memory cell is inactive (memory is not used but state is retained)
- 1: the memory cell is active
*Write Enable or WE  (input):*
- 0: read data from the memory cell
- 1: write data to the memory cell
*Data (input/output):*
- If cell is disabled, data is disconnected
- If cell is enabled and in read mode, data contains data from memory cell (output).
- If cell is enabled and in write mode, data contains data to write memory cell (input).
*Clock (input):*
- Memory writes occur on the rising edge (only on writes)

**Here is a 1-bit memory cell circuit using a D flip-flop:**
			![[Pasted image 20251013132535.png]]

**4-bit Memory Cell
![[Pasted image 20251013132622.png]]

**n-bit Memory Cell Block Diagram**
![[Pasted image 20251013132757.png]]


---

### Memory Organization

#### Memory addressing

**Memory** can be thought of as an array of as an array of data cells.

The index into the array is the **address**
- Identical to the address stored in a pointer variable (using `&`).
How big are the data cells?
- *byte-addressable:* each byte has its own address
- *word-addressable:* each word has its own address
	- A word is often 4 bytes (32 bits) or 8 bytes (64 bits)

#### Decoding Memory Addresses

A decoder is used to determine which cell is accessed
- Converts an address into the enable lines for the memory cell.
- Makes sure that only one memory cell is enabled at a time
Useful for the decoder to have an enable input that can enable and disable the entire memory
- When a memory access occurs, memory enable is set to 1.
	- Decoder behaves normally
- When memory is not used, memory enable is set to 0.
	- all outputs of the decoder are 0.
	- No memory cell is enabled.
![[Pasted image 20251013133456.png]]

#### Memory addresses and Sizes

**How many address bits are needed if a memory contains $n$ memory cells?**
$log_{2}n$ (round up, ceiling)

Number of address bits = $log_{2}$(number of memory cells)
Memory size = Number of memory cells $*$ bytes per cell

#### Powers of 2
![[Pasted image 20251013134132.png]]

#### In-class Problems
![[Pasted image 20251013134252.png]]

#### Internal CPU Memory
- Inside a CPU, there are 2 types of memory: registers and cache
- **Registers** are the fastest form of memory since they are closest to the arithmetic logic unit. the set of registers in a CPU is called the register file
	- There are very few registers (8,16, 32) in the CPU.
	- Refer to registers directly using register numbers or names not by addresses
- The **cache** inside the CPU stores data from commonly-used addresses
	- Saves time as it avoids accessing memory outside the chip
	- ...
#### Random Access Memory (RAM)
- Main memory is stored in **RAM** 
- *Static Ram:* Implemented using a circuit similar to the D flip-flop circuit
	- Uses 6 transistors
	- Very fast
- *Dynamic Ram:* Implemented using a transistor and a capacitor
	- Capacitors must be refreshed periodically
	- Very high density
- RAM is *volatile* - memory cells only retain their values while the power is on
	- However, if the power goes off - the values disappear
	- Registers and caches are also volatile.

#### Read Only Memory (ROM)
- A **ROM** is a memory where the contents of the memory are hard coded when it is manufactured
- It is commonly used in "closed" computer systems ...