#ComputerOrganization 

### System Performance
#### Bottlenecks
Performance is often dictated by **bottlenecks**.
*Bottlenecks:* Portions of a task that slow down the task.
- How bottle necks occur:
	- Physical and theoretical limitations
	- Inefficient implementations
	- Sharing
- The key to improving performance is to avoid, eliminate, or hide performance bottlenecks.

Some examples of bottlenecks due to physical and theoretical limitations:
- Algorithmic limits
- Speed of light (limits communication speed)
- Power and heat dissipation
- Amount of memory / registers
- I/O speeds
- Space (things take up space)
- Number of memory cells that can be within a certain latency from the CPU
- Processing time in the CPU

#### Efficient Implementations
Characteristics of the "most efficient" implementation:
- Fastest CPU possible
- Dedicated hardware

Issues with "most efficient implementation":
- Most efficient solution is expensive.
- Most computing solutions involve general-purpose hardware and specific software.

So, how do we improve performance?
- Start with a baseline system and look for bottlenecks.
- Can use a profiler to measure software performance.
	- A *profiler* provides a profile of where most of the time is spent (which functions spend most time).

#### Amdahl's Law
**Amdahl's Law:** Assume an optimization improves a portion (fraction) $p$ of the computation that took time $T_{orig}$ by a factor of $s$. 
- Used to determine the performance gains from an optimization.

The time to take to run the new program is:
$$T_{new} = p\left(\frac{T_{orig}}{s}\right) + (1-p)T_{orig}$$
The Speedup is:
$$\text{Speedup } = \frac{T_{orig}}{T_{new}} = \frac{T_{orig}}{p\left(\frac{T_{orig}}{s}\right)+(1-p)T_{orig}} = \frac{1}{\frac{p}{s}+(1-p)} = \frac{s}{p+s(1-p)}
$$
**Amdahl's Law:**
$$\text{Speedup } = \frac{s}{p+s(1-p)}$$


… ***include example from slides*** …

#### Optimize for the Common Case
**Optimize for the Common Case:** Make frequently occurring operations faster.
Examples:
- The set of instructions implemented in hardware are the most common instructions.
- Dedicated bus for memory
- Dedicated graphics processor
- Caching to store the most frequently used entries
- Libraries are optimized for performance
- Exception handling mechanisms make the normal execution fast and exceptional situations slow.

#### Don't Optimize for the Uncommon Case
- Optimizing can be expensive (time and money).
- Need to understand performance requirements for a computer system/program.
	- Often, a normally written program running on a standard PC is sufficient.
	- If not, determine bottlenecks and try to address them.
- For this reason, we do not need to…
	- write everything in optimized assembly code.
	- develop dedicated hardware

…